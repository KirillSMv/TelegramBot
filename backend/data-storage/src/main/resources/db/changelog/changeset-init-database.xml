<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
            http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet id="import_uuid_generator" author="robinx51">
        <sql>
            CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
        </sql>
    </changeSet>
    <changeSet id="create_table_user" author="robinx51">
        <createTable tableName="user">
            <column name="user_id" type="uuid" defaultValueComputed="uuid_generate_v4()">
                <constraints primaryKey="true" primaryKeyName="pk_user" nullable="false"/>
            </column>

            <column name="role" type="varchar(255)"/>

            <column name="first_name" type="varchar(255)"/>

            <column name="last_name" type="varchar(255)"/>

            <column name="email" type="varchar(255)"/>

            <column name="city" type="varchar(255)"/>

            <column name="phone_number" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="create_table_statement" author="robinx51">
        <createTable tableName="statement">
            <column name="statement_id" type="uuid" defaultValueComputed="uuid_generate_v4()">
                <constraints primaryKey="true" primaryKeyName="pk_statement" nullable="false"/>
            </column>

            <column name="user_id" type="uuid">
                <constraints foreignKeyName="fk_user_id" references="user(user_id)"/>
            </column>

            <column name="statement_status" type="character varying(255)"/>

            <column name="course" type="character varying(255)"/>

            <column name="creation_date" type="timestamp without time zone"/>

            <column name="status_history" type="jsonb"/>
        </createTable>
    </changeSet>
</databaseChangeLog>